@model CustomSearchModel

@using ACT.Core.Models;

@{
    ViewBag.ViewName = "_ReconcileLoad";
}


@Html.Partial( "_Notification" )

<div class="graph-search grouped-area" style="margin-left: -10px; margin-right: -10px; margin-top: -10px; border: 0; border-bottom: 20px solid #f5f5f5; margin-bottom: 0;">

    <b class="title">
        Custom Search:
        <span id="rl-loader"></span>
    </b>

    <div class="dashboard-search" style="margin-top: 10px;">

        <span>
            <label for="ClientId">Client:</label>
        </span>

        <span>
            <label for="LoadDateFrom">Load Date From:</label>
        </span>

        <span>
            <label for="LoadDateTo">To:</label>
        </span>

    </div>

    <div id="rl-search-fields" class="dashboard-search">

        <span>
            @Html.DropDownListFor( model => model.ClientId, model => model.ClientOptions, c => c.Key, c => c.Value, true, new { @class = "chzn", @style = "width: 98%;" } )
        </span>

        <span>
            @Html.TextBoxFor( model => model.FromDate, new { @class = "date-picker", @style = "width: 92%; height: 25px; position: relative; bottom: -6px;", @placeholder = "              /              /" } )
        </span>

        <span>
            @Html.TextBoxFor( model => model.ToDate, new { @class = "date-picker", @style = "width: 92%; height: 25px; position: relative; bottom: -6px;", @placeholder = "              /              /" } )
        </span>

    </div>

    <a class="do-search" rel="tipsyE" title="Filter loads to reconcile?" data-reconcile-loads-search="1" data-target="#rl-search-fields" data-chep-loads="#chep-loads" data-client-loads="#client-loads">
        SEARCH
    </a>

</div>

<p style="margin: 15px 0; font-weight: bold; position: relative;">
    <img alt="Tip" src="@Url.Content("~/Images/info.png")" style="margin-right: 5px;" />
    Drag a pooling agent load and drop it on a matching client load to reconcile...

    <a class="auto-recon" data-auto-recon="1" data-type="loads" data-title="Auto Reconcile Loads">
        Auto Reconcile
    </a>

    <span class="block clear"></span>
</p>

<div id="chep-loads" class="left" style="width: 52%; margin-right: 1%;">

    <div style="padding: 10px; border: 1px solid #cacaca; text-transform: uppercase; position: relative; background: #eee; border-bottom: 0; border-top-left-radius: 4px; border-top-right-radius: 4px;">

        <div class="left" style="margin-top: 8px;">
            Pooling Agent Loads <span id="loader"></span>
        </div>

        <div class="right" style="position: relative; width: 45%;">

            @Html.TextBoxFor( model => model.Query, new { @class = "input", @style = "", @placeholder = "Enter any search text..." } )

            <a onclick="ACT.UI.DataSearchChepLoads( $( '#chep-loads' ) );" rel="tipsyE" title="Click to filter Pooling Agent Loads..." data-pad-search="1" data-target="#chep-loads-data" style="position: absolute; right: 2px; top: -2px; background: #012d71; padding: 7px 5px; border-bottom-left-radius: 4px;">
                <img alt="Search" src="@Url.Content( "~/Images/search.png" )" style="height: 20px;" />
            </a>

        </div>

        <div class="clear"></div>
    </div>

    <div id="chep-loads-data" class="list-data">

        @Html.Partial( "_ChepLoads", ( PagingExtension ) ViewBag.ChepLoads )

    </div>

</div>

<div id="client-loads" class="right" style="width: 46%;">

    <div style="padding: 10px; border: 1px solid #cacaca; text-transform: uppercase; position: relative; background: #eee; border-bottom: 0; border-top-left-radius: 4px; border-top-right-radius: 4px;">

        <div class="left" style="margin-top: 8px;">
            Client Loads <span id="loader"></span>
        </div>

        <div class="right" style="position: relative; width: 45%;">

            @Html.TextBoxFor( model => model.Query, new { @class = "input", @style = "", @placeholder = "Enter any search text..." } )

            <a onclick="ACT.UI.DataSearchClientLoads( $( '#client-loads' ) );" rel="tipsyE" title="Click to filter Client Loads..." data-cl-search="1" data-target="#client-loads-data" style="position: absolute; right: 0px; top: -2px; background: #012d71; padding: 7px 5px; border-bottom-left-radius: 4px;">
                <img alt="Search" src="@Url.Content( "~/Images/search.png" )" style="height: 20px;" />
            </a>

        </div>

        <div class="clear"></div>
    </div>

    <div id="client-loads-data" class="list-data">

        @Html.Partial( "_ClientLoads", ( PagingExtension ) ViewBag.ClientLoads )

    </div>

</div>

<div class="clear">&nbsp;</div>